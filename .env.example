# =============================================================================
# GLAStudio OAuth System Environment Configuration
# =============================================================================

# Application Configuration
NODE_ENV=development
APP_URL=http://localhost:3000
APP_DOMAIN=localhost:3000
NEXTAUTH_URL=http://localhost:3000

# =============================================================================
# Firebase Client Configuration (Public)
# =============================================================================
NEXT_PUBLIC_FIREBASE_API_KEY=AIzaSyDAupXvxYn4UQQmqPxUQGYwQ551N20ILpk
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=itdiary-ase.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=itdiary-ase
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=itdiary-ase.firebasestorage.app
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=123456789012
NEXT_PUBLIC_FIREBASE_APP_ID=1:123456789012:web:abcdef1234567890abcdef

# =============================================================================
# Firebase Admin SDK Configuration (Server-side only)
# =============================================================================
FIREBASE_PROJECT_ID=itdiary-ase
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@itdiary-ase.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----"

# =============================================================================
# Security Configuration
# =============================================================================
# JWT Secret (Generate with: openssl rand -base64 32)
JWT_SECRET=your-super-secret-jwt-key-replace-with-32-char-string

# JWT Token Expiration
JWT_EXPIRES_IN=7d

# Encryption Key (Must be exactly 32 characters)
ENCRYPTION_KEY=your-32-character-encryption-key

# NextAuth Secret (Generate with: openssl rand -base64 32)
NEXTAUTH_SECRET=your-nextauth-secret-key-here

# =============================================================================
# Rate Limiting Configuration
# =============================================================================
# Maximum requests per window
RATE_LIMIT_MAX_REQUESTS=100

# Rate limit window in milliseconds (15 minutes = 900000)
RATE_LIMIT_WINDOW_MS=900000

# =============================================================================
# Development Configuration
# =============================================================================
# Enable debug logging
DEBUG=false

# Enable development features
DEV_MODE=true

# Skip rate limiting in development
SKIP_RATE_LIMIT=false

# =============================================================================
# Database Configuration
# =============================================================================
# Firebase Firestore region (optional)
FIRESTORE_REGION=us-central1

# Enable Firestore offline persistence
FIRESTORE_OFFLINE=false

# =============================================================================
# OAuth Configuration
# =============================================================================
# Default session expiry (in minutes)
SESSION_EXPIRY_MINUTES=10

# Authorization code expiry (in minutes)
AUTH_CODE_EXPIRY_MINUTES=10

# Access token expiry (in minutes)
ACCESS_TOKEN_EXPIRY_MINUTES=60

# Refresh token expiry (in days)
REFRESH_TOKEN_EXPIRY_DAYS=30

# =============================================================================
# Security Headers
# =============================================================================
# Content Security Policy
CSP_ENABLED=true

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# =============================================================================
# Logging Configuration
# =============================================================================
# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Enable security event logging
SECURITY_LOGGING=true

# Log file path (optional)
LOG_FILE_PATH=./logs/oauth.log

# =============================================================================
# Email Configuration (for future email/password auth)
# =============================================================================
# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Email sender
FROM_EMAIL=noreply@glasstudio.auth
FROM_NAME=GLAStudio OAuth

# =============================================================================
# Webhook Configuration (for future extensions)
# =============================================================================
# Webhook secret for verifying incoming webhooks
WEBHOOK_SECRET=your-webhook-secret-key

# Webhook timeout (in milliseconds)
WEBHOOK_TIMEOUT=30000

# =============================================================================
# Monitoring & Analytics
# =============================================================================
# Enable performance monitoring
PERFORMANCE_MONITORING=false

# Analytics provider (optional)
ANALYTICS_PROVIDER=none

# Error reporting service
ERROR_REPORTING=false

# =============================================================================
# Production Configuration
# =============================================================================
# Production domain (when deployed)
PRODUCTION_DOMAIN=auth-glasstudio.auth

# Production URL (when deployed)
PRODUCTION_URL=https://auth-glasstudio.auth

# SSL Configuration
FORCE_HTTPS=true

# =============================================================================
# Backup & Maintenance
# =============================================================================
# Enable automatic cleanup of expired sessions
AUTO_CLEANUP=true

# Cleanup interval (in hours)
CLEANUP_INTERVAL_HOURS=24

# Backup configuration (optional)
BACKUP_ENABLED=false
BACKUP_BUCKET=your-backup-bucket

# =============================================================================
# API Configuration
# =============================================================================
# API versioning
API_VERSION=v1

# Default rate limits for new credentials
DEFAULT_RATE_LIMIT_REQUESTS=1000
DEFAULT_RATE_LIMIT_WINDOW=3600000

# Maximum allowed redirect URIs per credential
MAX_REDIRECT_URIS=10

# Maximum allowed scopes per credential
MAX_SCOPES=20

# =============================================================================
# Development Tools
# =============================================================================
# Tunnel domain (for development with ngrok/cloudflare tunnel)
TUNNEL_DOMAIN=

# Enable request logging in development
DEV_REQUEST_LOGGING=true

# Enable Firebase emulator (if using local Firebase)
USE_FIREBASE_EMULATOR=false
FIREBASE_EMULATOR_HOST=localhost:8080

# =============================================================================
# Instructions for Setup
# =============================================================================
# 1. Copy this file to .env.local
# 2. Replace all placeholder values with your actual configuration
# 3. Generate secure secrets using: openssl rand -base64 32
# 4. Set up Firebase project and get your configuration values
# 5. Configure your tunnel domain if developing with OAuth callbacks
# 6. Update Firebase authorized domains with your tunnel/production domain
# 7. Configure Google OAuth with proper redirect URIs
