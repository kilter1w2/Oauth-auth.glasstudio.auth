{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minht/Downloads/Oauth-auth.glasstudio.auth/src/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps, FirebaseApp } from \"firebase/app\";\nimport {\n  getAuth,\n  Auth,\n  GoogleAuthProvider,\n  signInWithPopup,\n  signOut,\n  onAuthStateChanged,\n  User as FirebaseUser,\n} from \"firebase/auth\";\nimport {\n  getFirestore,\n  Firestore,\n  collection,\n  doc,\n  getDoc,\n  setDoc,\n  updateDoc,\n  deleteDoc,\n  query,\n  where,\n  getDocs,\n  orderBy,\n  limit,\n  Timestamp,\n  addDoc,\n  onSnapshot,\n  QueryConstraint,\n} from \"firebase/firestore\";\nimport {\n  User,\n  ApiCredentials,\n  OAuthSession,\n  UsageStats,\n  SecurityLog,\n  AccessToken,\n} from \"@/types\";\n\n// Firebase Client Configuration\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n};\n\n// Initialize Firebase Client\nlet app: FirebaseApp;\nif (!getApps().length) {\n  app = initializeApp(firebaseConfig);\n} else {\n  app = getApps()[0];\n}\n\n// Client-side Firebase services\nexport const auth: Auth = getAuth(app);\nexport const db: Firestore = getFirestore(app);\nexport const googleProvider: GoogleAuthProvider = new GoogleAuthProvider();\n\n// Collection References\nexport const COLLECTIONS = {\n  USERS: \"users\",\n  API_CREDENTIALS: \"api_credentials\",\n  OAUTH_SESSIONS: \"oauth_sessions\",\n  USAGE_STATS: \"usage_stats\",\n  SECURITY_LOGS: \"security_logs\",\n  ACCESS_TOKENS: \"access_tokens\",\n} as const;\n\n// Utility Functions\nexport const convertTimestamp = (timestamp: Timestamp | Date): Date => {\n  if (timestamp instanceof Timestamp) {\n    return timestamp.toDate();\n  }\n  return timestamp;\n};\n\nexport const convertToTimestamp = (date: Date): Timestamp => {\n  return Timestamp.fromDate(date);\n};\n\n// Authentication Functions\nexport const signInWithGoogle = async (): Promise<FirebaseUser | null> => {\n  try {\n    const result = await signInWithPopup(auth, googleProvider);\n    return result.user;\n  } catch (error) {\n    console.error(\"Error signing in with Google:\", error);\n    return null;\n  }\n};\n\nexport const signOutUser = async (): Promise<void> => {\n  try {\n    await signOut(auth);\n  } catch (error) {\n    console.error(\"Error signing out:\", error);\n  }\n};\n\nexport const onAuthStateChange = (\n  callback: (user: FirebaseUser | null) => void,\n) => {\n  return onAuthStateChanged(auth, callback);\n};\n\n// User Management\nexport const createUser = async (\n  userData: Omit<User, \"id\" | \"createdAt\" | \"updatedAt\">,\n): Promise<string> => {\n  const newUser = {\n    ...userData,\n    createdAt: convertToTimestamp(new Date()),\n    updatedAt: convertToTimestamp(new Date()),\n  };\n\n  const userRef = await addDoc(collection(db, COLLECTIONS.USERS), newUser);\n  return userRef.id;\n};\n\nexport const getUser = async (userId: string): Promise<User | null> => {\n  const userDoc = await getDoc(doc(db, COLLECTIONS.USERS, userId));\n  if (!userDoc.exists()) return null;\n\n  const data = userDoc.data();\n  return {\n    ...data,\n    id: userDoc.id,\n    createdAt: convertTimestamp(data.createdAt),\n    updatedAt: convertTimestamp(data.updatedAt),\n  } as User;\n};\n\nexport const getUserByEmail = async (email: string): Promise<User | null> => {\n  const q = query(\n    collection(db, COLLECTIONS.USERS),\n    where(\"email\", \"==\", email),\n    limit(1),\n  );\n\n  const querySnapshot = await getDocs(q);\n  if (querySnapshot.empty) return null;\n\n  const userDoc = querySnapshot.docs[0];\n  const data = userDoc.data();\n\n  return {\n    ...data,\n    id: userDoc.id,\n    createdAt: convertTimestamp(data.createdAt),\n    updatedAt: convertTimestamp(data.updatedAt),\n  } as User;\n};\n\nexport const updateUser = async (\n  userId: string,\n  updates: Partial<User>,\n): Promise<void> => {\n  const userRef = doc(db, COLLECTIONS.USERS, userId);\n  await updateDoc(userRef, {\n    ...updates,\n    updatedAt: convertToTimestamp(new Date()),\n  });\n};\n\n// API Credentials Management\nexport const createApiCredentials = async (\n  credentialsData: Omit<ApiCredentials, \"id\" | \"createdAt\" | \"updatedAt\">,\n): Promise<string> => {\n  const newCredentials = {\n    ...credentialsData,\n    createdAt: convertToTimestamp(new Date()),\n    updatedAt: convertToTimestamp(new Date()),\n  };\n\n  const credRef = await addDoc(\n    collection(db, COLLECTIONS.API_CREDENTIALS),\n    newCredentials,\n  );\n  return credRef.id;\n};\n\nexport const getApiCredentials = async (\n  credentialId: string,\n): Promise<ApiCredentials | null> => {\n  const credDoc = await getDoc(\n    doc(db, COLLECTIONS.API_CREDENTIALS, credentialId),\n  );\n  if (!credDoc.exists()) return null;\n\n  const data = credDoc.data();\n  return {\n    ...data,\n    id: credDoc.id,\n    createdAt: convertTimestamp(data.createdAt),\n    updatedAt: convertTimestamp(data.updatedAt),\n  } as ApiCredentials;\n};\n\nexport const getApiCredentialsByClientId = async (\n  clientId: string,\n): Promise<ApiCredentials | null> => {\n  const q = query(\n    collection(db, COLLECTIONS.API_CREDENTIALS),\n    where(\"clientId\", \"==\", clientId),\n    limit(1),\n  );\n\n  const querySnapshot = await getDocs(q);\n  if (querySnapshot.empty) return null;\n\n  const credDoc = querySnapshot.docs[0];\n  const data = credDoc.data();\n\n  return {\n    ...data,\n    id: credDoc.id,\n    createdAt: convertTimestamp(data.createdAt),\n    updatedAt: convertTimestamp(data.updatedAt),\n  } as ApiCredentials;\n};\n\nexport const getUserApiCredentials = async (\n  userId: string,\n): Promise<ApiCredentials[]> => {\n  const q = query(\n    collection(db, COLLECTIONS.API_CREDENTIALS),\n    where(\"userId\", \"==\", userId),\n    orderBy(\"createdAt\", \"desc\"),\n  );\n\n  const querySnapshot = await getDocs(q);\n  return querySnapshot.docs.map((doc) => {\n    const data = doc.data();\n    return {\n      ...data,\n      id: doc.id,\n      createdAt: convertTimestamp(data.createdAt),\n      updatedAt: convertTimestamp(data.updatedAt),\n    } as ApiCredentials;\n  });\n};\n\nexport const updateApiCredentials = async (\n  credentialId: string,\n  updates: Partial<ApiCredentials>,\n): Promise<void> => {\n  const credRef = doc(db, COLLECTIONS.API_CREDENTIALS, credentialId);\n  await updateDoc(credRef, {\n    ...updates,\n    updatedAt: convertToTimestamp(new Date()),\n  });\n};\n\nexport const deleteApiCredentials = async (\n  credentialId: string,\n): Promise<void> => {\n  await deleteDoc(doc(db, COLLECTIONS.API_CREDENTIALS, credentialId));\n};\n\nexport const getAccessToken = async (\n  token: string,\n): Promise<AccessToken | null> => {\n  const tokenDoc = await getDoc(doc(db, COLLECTIONS.ACCESS_TOKENS, token));\n  if (!tokenDoc.exists()) return null;\n\n  const data = tokenDoc.data();\n  // The document ID is the token itself.\n  return {\n    token: tokenDoc.id,\n    userId: data.userId,\n    credentialId: data.credentialId,\n    sessionId: data.sessionId,\n    scopes: data.scopes,\n    tokenType: data.tokenType,\n    isRevoked: data.isRevoked,\n    createdAt: convertTimestamp(data.createdAt),\n    expiresAt: convertTimestamp(data.expiresAt),\n  } as AccessToken;\n};\n\nexport const revokeAccessToken = async (token: string): Promise<void> => {\n  const tokenRef = doc(db, COLLECTIONS.ACCESS_TOKENS, token);\n  // Check if the document exists before updating to avoid creating new documents.\n  const tokenSnap = await getDoc(tokenRef);\n  if (tokenSnap.exists()) {\n    await updateDoc(tokenRef, {\n      isRevoked: true,\n    });\n  }\n};\n\n// OAuth Session Management\nexport const createOAuthSession = async (\n  sessionData: Omit<\n    OAuthSession,\n    \"createdAt\" | \"expiresAt\" | \"authorizedAt\" | \"tokenExpiresAt\"\n  > & { expiresAt: Date },\n): Promise<string> => {\n  const newSession = {\n    ...sessionData,\n    createdAt: convertToTimestamp(new Date()),\n    expiresAt: convertToTimestamp(sessionData.expiresAt),\n  };\n\n  const sessionRef = await addDoc(\n    collection(db, COLLECTIONS.OAUTH_SESSIONS),\n    newSession,\n  );\n  return sessionRef.id;\n};\n\nexport const getOAuthSession = async (\n  sessionId: string,\n): Promise<OAuthSession | null> => {\n  const sessionDoc = await getDoc(\n    doc(db, COLLECTIONS.OAUTH_SESSIONS, sessionId),\n  );\n  if (!sessionDoc.exists()) return null;\n\n  const data = sessionDoc.data();\n  return {\n    ...data,\n    createdAt: convertTimestamp(data.createdAt),\n    expiresAt: convertTimestamp(data.expiresAt),\n    authorizedAt: data.authorizedAt\n      ? convertTimestamp(data.authorizedAt)\n      : undefined,\n    tokenExpiresAt: data.tokenExpiresAt\n      ? convertTimestamp(data.tokenExpiresAt)\n      : undefined,\n  } as OAuthSession;\n};\n\nexport const updateOAuthSession = async (\n  sessionId: string,\n  updates: Partial<OAuthSession>,\n): Promise<void> => {\n  const updateData: any = { ...updates };\n\n  if (updates.expiresAt) {\n    updateData.expiresAt = convertToTimestamp(updates.expiresAt);\n  }\n  if (updates.authorizedAt) {\n    updateData.authorizedAt = convertToTimestamp(updates.authorizedAt);\n  }\n  if (updates.tokenExpiresAt) {\n    updateData.tokenExpiresAt = convertToTimestamp(updates.tokenExpiresAt);\n  }\n\n  await updateDoc(\n    doc(db, COLLECTIONS.OAUTH_SESSIONS, sessionId),\n    updateData,\n  );\n};\n\n// Usage Statistics\nexport const recordUsageStats = async (\n  credentialId: string,\n  success: boolean,\n): Promise<void> => {\n  const today = new Date().toISOString().split(\"T\")[0];\n  const statsId = `${credentialId}_${today}`;\n\n  const statsRef = doc(db, COLLECTIONS.USAGE_STATS, statsId);\n  const statsDoc = await getDoc(statsRef);\n\n  if (statsDoc.exists()) {\n    const currentData = statsDoc.data();\n    await updateDoc(statsRef, {\n      requests: currentData.requests + 1,\n      errors: success ? currentData.errors : currentData.errors + 1,\n      successfulAuths: success\n        ? currentData.successfulAuths + 1\n        : currentData.successfulAuths,\n      failedAuths: success\n        ? currentData.failedAuths\n        : currentData.failedAuths + 1,\n      lastRequest: convertToTimestamp(new Date()),\n    });\n  } else {\n    await setDoc(statsRef, {\n      credentialId,\n      date: today,\n      requests: 1,\n      errors: success ? 0 : 1,\n      successfulAuths: success ? 1 : 0,\n      failedAuths: success ? 0 : 1,\n      lastRequest: convertToTimestamp(new Date()),\n    });\n  }\n};\n\n// Security Logging\nexport const logSecurityEvent = async (\n  logData: Omit<SecurityLog, \"id\" | \"timestamp\">,\n): Promise<void> => {\n  const logDoc = {\n    ...logData,\n    timestamp: convertToTimestamp(new Date()),\n  };\n\n  await addDoc(collection(db, COLLECTIONS.SECURITY_LOGS), logDoc);\n};\n\n// Cleanup expired sessions and tokens\nexport const cleanupExpiredSessions = async (): Promise<void> => {\n  const now = new Date();\n  const expiredSessionsQuery = query(\n    collection(db, COLLECTIONS.OAUTH_SESSIONS),\n    where(\"expiresAt\", \"<\", convertToTimestamp(now)),\n  );\n\n  const expiredSessions = await getDocs(expiredSessionsQuery);\n  const deletePromises = expiredSessions.docs.map((doc) => deleteDoc(doc.ref));\n\n  await Promise.all(deletePromises);\n};\n\nexport default {\n  auth,\n  db,\n  googleProvider,\n  signInWithGoogle,\n  signOutUser,\n  onAuthStateChange,\n  createUser,\n  getUser,\n  getUserByEmail,\n  updateUser,\n  createApiCredentials,\n  getApiCredentials,\n  getApiCredentialsByClientId,\n  getUserApiCredentials,\n  updateApiCredentials,\n  deleteApiCredentials,\n  getAccessToken,\n  revokeAccessToken,\n  createOAuthSession,\n  getOAuthSession,\n  updateOAuthSession,\n  recordUsageStats,\n  logSecurityEvent,\n  cleanupExpiredSessions,\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 340, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minht/Downloads/Oauth-auth.glasstudio.auth/src/lib/session.ts"],"sourcesContent":["import { User as FirebaseUser } from \"firebase/auth\";\nimport CryptoJS from \"crypto-js\";\n\n// Session configuration\nconst SESSION_CONFIG = {\n  sessionCookieName: \"glasstudio_session\",\n  refreshCookieName: \"glasstudio_refresh\",\n  sessionDuration: 24 * 60 * 60 * 1000, // 24 hours\n  refreshDuration: 7 * 24 * 60 * 60 * 1000, // 7 days\n  cookieOptions: {\n    httpOnly: true,\n    secure: process.env.NODE_ENV === \"production\",\n    sameSite: \"lax\" as const,\n    path: \"/\",\n  },\n};\n\n// Session data interface\nexport interface SessionData {\n  userId: string;\n  email: string;\n  displayName?: string;\n  photoURL?: string;\n  provider: \"google\" | \"email\";\n  emailVerified: boolean;\n  createdAt: string;\n  expiresAt: string;\n  lastActivity: string;\n  sessionId: string;\n}\n\n// Session token interface\nexport interface SessionToken {\n  sessionId: string;\n  userId: string;\n  issuedAt: number;\n  expiresAt: number;\n  type: \"session\" | \"refresh\";\n}\n\n// Client-side session management\nexport class SessionManager {\n  private static instance: SessionManager;\n  private sessionData: SessionData | null = null;\n  private refreshTimer: NodeJS.Timeout | null = null;\n\n  private constructor() {}\n\n  static getInstance(): SessionManager {\n    if (!SessionManager.instance) {\n      SessionManager.instance = new SessionManager();\n    }\n    return SessionManager.instance;\n  }\n\n  // Generate secure session ID\n  private generateSessionId(): string {\n    const timestamp = Date.now().toString();\n    const random = Math.random().toString(36).substring(2);\n    return CryptoJS.SHA256(timestamp + random).toString();\n  }\n\n  // Get session secret with fallback\n  private getSessionSecret(): string {\n    const secret =\n      process.env.NEXT_PUBLIC_SESSION_SECRET ||\n      process.env.SESSION_SECRET ||\n      \"glasstudio-default-secret-key-2024\";\n\n    return secret;\n  }\n\n  // Encrypt session data\n  private encryptData(data: string): string {\n    try {\n      const secretKey = this.getSessionSecret();\n      return CryptoJS.AES.encrypt(data, secretKey).toString();\n    } catch (error) {\n      console.error(\"Session encryption error:\", error);\n      throw new Error(\"Failed to encrypt session data\");\n    }\n  }\n\n  // Decrypt session data\n  private decryptData(encryptedData: string): string {\n    try {\n      const secretKey = this.getSessionSecret();\n      const bytes = CryptoJS.AES.decrypt(encryptedData, secretKey);\n      const decrypted = bytes.toString(CryptoJS.enc.Utf8);\n\n      if (!decrypted) {\n        throw new Error(\"Decryption resulted in empty string\");\n      }\n\n      return decrypted;\n    } catch (error) {\n      // Handle malformed UTF-8 data or other decryption errors\n      this.debugSession(\"Session decryption failed, clearing corrupted session\", error);\n      this.clearSession(); // Clear corrupted session data\n      return \"\";\n    }\n  }\n\n  // Debug session information\n  private debugSession(message: string, data?: any): void {\n    if (\n      typeof window !== \"undefined\" &&\n      process.env.NODE_ENV === \"development\"\n    ) {\n      console.log(`[SessionManager] ${message}`, data);\n    }\n  }\n\n  // Create session from Firebase user\n  createSession(user: FirebaseUser): SessionData {\n    try {\n      const now = new Date();\n      const expiresAt = new Date(\n        now.getTime() + SESSION_CONFIG.sessionDuration,\n      );\n\n      const sessionData: SessionData = {\n        userId: user.uid,\n        email: user.email || \"\",\n        displayName: user.displayName || undefined,\n        photoURL: user.photoURL || undefined,\n        provider:\n          user.providerData[0]?.providerId === \"google.com\"\n            ? \"google\"\n            : \"email\",\n        emailVerified: user.emailVerified,\n        createdAt: now.toISOString(),\n        expiresAt: expiresAt.toISOString(),\n        lastActivity: now.toISOString(),\n        sessionId: this.generateSessionId(),\n      };\n\n      this.debugSession(\"Creating new session\", {\n        userId: user.uid,\n        email: user.email,\n      });\n\n      this.sessionData = sessionData;\n      this.saveSessionToCookies(sessionData);\n      this.startRefreshTimer();\n\n      this.debugSession(\"Session created successfully\", {\n        sessionId: sessionData.sessionId,\n      });\n\n      return sessionData;\n    } catch (error) {\n      console.error(\"Failed to create session:\", error);\n      throw error;\n    }\n  }\n\n  // Save session to cookies (client-side)\n  private saveSessionToCookies(sessionData: SessionData): void {\n    if (typeof window === \"undefined\") return;\n\n    const encryptedSession = this.encryptData(JSON.stringify(sessionData));\n    const sessionToken: SessionToken = {\n      sessionId: sessionData.sessionId,\n      userId: sessionData.userId,\n      issuedAt: Date.now(),\n      expiresAt: new Date(sessionData.expiresAt).getTime(),\n      type: \"session\",\n    };\n\n    const refreshToken: SessionToken = {\n      sessionId: sessionData.sessionId,\n      userId: sessionData.userId,\n      issuedAt: Date.now(),\n      expiresAt: Date.now() + SESSION_CONFIG.refreshDuration,\n      type: \"refresh\",\n    };\n\n    // Set session cookie\n    document.cookie = `${SESSION_CONFIG.sessionCookieName}=${encryptedSession}; max-age=${SESSION_CONFIG.sessionDuration / 1000}; path=/; ${SESSION_CONFIG.cookieOptions.secure ? \"secure;\" : \"\"} samesite=${SESSION_CONFIG.cookieOptions.sameSite}`;\n\n    // Set refresh token cookie\n    const encryptedRefresh = this.encryptData(JSON.stringify(refreshToken));\n    document.cookie = `${SESSION_CONFIG.refreshCookieName}=${encryptedRefresh}; max-age=${SESSION_CONFIG.refreshDuration / 1000}; path=/; ${SESSION_CONFIG.cookieOptions.secure ? \"secure;\" : \"\"} samesite=${SESSION_CONFIG.cookieOptions.sameSite}`;\n  }\n\n  // Get session from cookies\n  getSessionFromCookies(): SessionData | null {\n    if (typeof window === \"undefined\") return null;\n\n    try {\n      const cookies = document.cookie.split(\";\").reduce(\n        (acc, cookie) => {\n          const [key, value] = cookie.trim().split(\"=\");\n          if (key && value) {\n            acc[key] = decodeURIComponent(value);\n          }\n          return acc;\n        },\n        {} as Record<string, string>,\n      );\n\n      const encryptedSession = cookies[SESSION_CONFIG.sessionCookieName];\n      if (!encryptedSession) {\n        this.debugSession(\"No session cookie found\");\n        return null;\n      }\n\n      this.debugSession(\"Found session cookie, attempting to decrypt\");\n\n      const decryptedData = this.decryptData(encryptedSession);\n      \n      // If decryption failed (returned empty string), return null\n      if (!decryptedData) {\n        this.debugSession(\"Session decryption failed, session cleared\");\n        return null;\n      }\n\n      const sessionData: SessionData = JSON.parse(decryptedData);\n\n      // Check if session is expired\n      if (new Date(sessionData.expiresAt) < new Date()) {\n        this.debugSession(\"Session expired\", sessionData.expiresAt);\n        this.clearSession();\n        return null;\n      }\n\n      this.debugSession(\"Session loaded successfully\", {\n        userId: sessionData.userId,\n        expiresAt: sessionData.expiresAt,\n      });\n\n      return sessionData;\n    } catch (error) {\n      this.debugSession(\"Failed to get session from cookies, clearing session\", error);\n      this.clearSession();\n      return null;\n    }\n  }\n\n  // Get current session\n  getCurrentSession(): SessionData | null {\n    if (this.sessionData) {\n      // Check if current session is still valid\n      if (new Date(this.sessionData.expiresAt) > new Date()) {\n        return this.sessionData;\n      }\n    }\n\n    // Try to get from cookies\n    return this.getSessionFromCookies();\n  }\n\n  // Refresh session\n  async refreshSession(): Promise<SessionData | null> {\n    if (typeof window === \"undefined\") return null;\n\n    const cookies = document.cookie.split(\";\").reduce(\n      (acc, cookie) => {\n        const [key, value] = cookie.trim().split(\"=\");\n        acc[key] = value;\n        return acc;\n      },\n      {} as Record<string, string>,\n    );\n\n    const refreshCookie = cookies[SESSION_CONFIG.refreshCookieName];\n    if (!refreshCookie) return null;\n\n    try {\n      const decryptedRefresh = this.decryptData(refreshCookie);\n      const refreshToken: SessionToken = JSON.parse(decryptedRefresh);\n\n      // Check if refresh token is expired\n      if (refreshToken.expiresAt < Date.now()) {\n        this.clearSession();\n        return null;\n      }\n\n      // Call API to refresh session\n      const response = await fetch(\"/api/auth/refresh\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ refreshToken }),\n      });\n\n      if (response.ok) {\n        const { sessionData } = await response.json();\n        this.sessionData = sessionData;\n        this.saveSessionToCookies(sessionData);\n        return sessionData;\n      }\n    } catch (error) {\n      console.error(\"Failed to refresh session:\", error);\n    }\n\n    this.clearSession();\n    return null;\n  }\n\n  // Clear session\n  clearSession(): void {\n    if (typeof window === \"undefined\") return;\n\n    this.sessionData = null;\n\n    if (this.refreshTimer) {\n      clearTimeout(this.refreshTimer);\n      this.refreshTimer = null;\n    }\n\n    // Clear cookies with multiple approaches to ensure they're removed\n    const cookieOptions = [\n      `${SESSION_CONFIG.sessionCookieName}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`,\n      `${SESSION_CONFIG.refreshCookieName}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`,\n      `${SESSION_CONFIG.sessionCookieName}=; Max-Age=0; path=/;`,\n      `${SESSION_CONFIG.refreshCookieName}=; Max-Age=0; path=/;`,\n    ];\n\n    cookieOptions.forEach(cookie => {\n      document.cookie = cookie;\n    });\n\n    this.debugSession(\"Session and cookies cleared\");\n  }\n\n  // Start automatic session refresh\n  private startRefreshTimer(): void {\n    if (this.refreshTimer) {\n      clearTimeout(this.refreshTimer);\n    }\n\n    // Refresh session 5 minutes before expiration\n    const refreshTime = SESSION_CONFIG.sessionDuration - 5 * 60 * 1000;\n    this.refreshTimer = setTimeout(async () => {\n      await this.refreshSession();\n      this.startRefreshTimer();\n    }, refreshTime);\n  }\n\n  // Check if user is authenticated\n  isAuthenticated(): boolean {\n    const session = this.getCurrentSession();\n    return session !== null;\n  }\n\n  // Get user info from session\n  getCurrentUser(): Partial<FirebaseUser> | null {\n    const session = this.getCurrentSession();\n    if (!session) return null;\n\n    return {\n      uid: session.userId,\n      email: session.email,\n      displayName: session.displayName,\n      photoURL: session.photoURL,\n      emailVerified: session.emailVerified,\n    };\n  }\n\n  // Update session activity\n  updateActivity(): void {\n    if (this.sessionData) {\n      this.sessionData.lastActivity = new Date().toISOString();\n      this.saveSessionToCookies(this.sessionData);\n    }\n  }\n}\n\n// Server-side session utilities\nexport class ServerSessionManager {\n  // Get server session secret\n  private static getServerSecret(): string {\n    return (\n      process.env.SESSION_SECRET ||\n      process.env.NEXT_PUBLIC_SESSION_SECRET ||\n      \"glasstudio-default-secret-key-2024\"\n    );\n  }\n\n  // Verify session token\n  static verifySessionToken(token: string): SessionData | null {\n    try {\n      const secretKey = this.getServerSecret();\n      const bytes = CryptoJS.AES.decrypt(token, secretKey);\n      const decryptedData = bytes.toString(CryptoJS.enc.Utf8);\n\n      if (!decryptedData) {\n        console.error(\"Session token decryption failed - empty result\");\n        return null;\n      }\n\n      const sessionData: SessionData = JSON.parse(decryptedData);\n\n      // Check if session is expired\n      if (new Date(sessionData.expiresAt) < new Date()) {\n        console.log(\"Session expired:\", sessionData.expiresAt);\n        return null;\n      }\n\n      return sessionData;\n    } catch (error) {\n      console.error(\"Failed to verify session token:\", error);\n      return null;\n    }\n  }\n\n  // Create session token\n  static createSessionToken(sessionData: SessionData): string {\n    try {\n      const secretKey = this.getServerSecret();\n      return CryptoJS.AES.encrypt(\n        JSON.stringify(sessionData),\n        secretKey,\n      ).toString();\n    } catch (error) {\n      console.error(\"Failed to create session token:\", error);\n      throw error;\n    }\n  }\n\n  // Get session from request headers\n  static getSessionFromRequest(req: Request): SessionData | null {\n    const cookieHeader = req.headers.get(\"cookie\");\n    if (!cookieHeader) return null;\n\n    const cookies = cookieHeader.split(\";\").reduce(\n      (acc, cookie) => {\n        const [key, value] = cookie.trim().split(\"=\");\n        acc[key] = value;\n        return acc;\n      },\n      {} as Record<string, string>,\n    );\n\n    const sessionToken = cookies[SESSION_CONFIG.sessionCookieName];\n    if (!sessionToken) return null;\n\n    return this.verifySessionToken(sessionToken);\n  }\n\n  // Set session cookies in response\n  static setSessionCookies(sessionData: SessionData): string[] {\n    const sessionToken = this.createSessionToken(sessionData);\n    const refreshToken: SessionToken = {\n      sessionId: sessionData.sessionId,\n      userId: sessionData.userId,\n      issuedAt: Date.now(),\n      expiresAt: Date.now() + SESSION_CONFIG.refreshDuration,\n      type: \"refresh\",\n    };\n\n    const encryptedRefresh = CryptoJS.AES.encrypt(\n      JSON.stringify(refreshToken),\n      this.getServerSecret(),\n    ).toString();\n\n    const sessionCookie = `${SESSION_CONFIG.sessionCookieName}=${sessionToken}; Max-Age=${SESSION_CONFIG.sessionDuration / 1000}; Path=/; ${SESSION_CONFIG.cookieOptions.httpOnly ? \"HttpOnly;\" : \"\"} ${SESSION_CONFIG.cookieOptions.secure ? \"Secure;\" : \"\"} SameSite=${SESSION_CONFIG.cookieOptions.sameSite}`;\n\n    const refreshCookie = `${SESSION_CONFIG.refreshCookieName}=${encryptedRefresh}; Max-Age=${SESSION_CONFIG.refreshDuration / 1000}; Path=/; ${SESSION_CONFIG.cookieOptions.httpOnly ? \"HttpOnly;\" : \"\"} ${SESSION_CONFIG.cookieOptions.secure ? \"Secure;\" : \"\"} SameSite=${SESSION_CONFIG.cookieOptions.sameSite}`;\n\n    return [sessionCookie, refreshCookie];\n  }\n\n  // Clear session cookies\n  static clearSessionCookies(): string[] {\n    const sessionCookie = `${SESSION_CONFIG.sessionCookieName}=; Max-Age=0; Path=/;`;\n    const refreshCookie = `${SESSION_CONFIG.refreshCookieName}=; Max-Age=0; Path=/;`;\n    return [sessionCookie, refreshCookie];\n  }\n}\n\n// React hook for session management\nexport function useSession() {\n  const sessionManager = SessionManager.getInstance();\n\n  const getSession = () => sessionManager.getCurrentSession();\n  const clearSession = () => sessionManager.clearSession();\n  const isAuthenticated = () => sessionManager.isAuthenticated();\n  const getCurrentUser = () => sessionManager.getCurrentUser();\n  const updateActivity = () => sessionManager.updateActivity();\n\n  return {\n    getSession,\n    clearSession,\n    isAuthenticated,\n    getCurrentUser,\n    updateActivity,\n    sessionManager,\n  };\n}\n\n// Middleware function for protecting routes\nexport function withAuth(handler: Function) {\n  return async (req: Request, ...args: any[]) => {\n    const session = ServerSessionManager.getSessionFromRequest(req);\n    if (!session) {\n      return new Response(\n        JSON.stringify({ error: \"Authentication required\" }),\n        {\n          status: 401,\n          headers: { \"Content-Type\": \"application/json\" },\n        },\n      );\n    }\n\n    // Add session to request context\n    (req as any).session = session;\n    return handler(req, ...args);\n  };\n}\n\n// Export configuration and utilities\nexport { SESSION_CONFIG };\nexport default SessionManager;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 759, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minht/Downloads/Oauth-auth.glasstudio.auth/src/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { \n  onAuthStateChange, \n  signOutUser, \n  getUserApiCredentials, \n  createApiCredentials \n} from \"@/lib/firebase\";\nimport { User as FirebaseUser } from \"firebase/auth\";\nimport { ApiCredentials } from \"@/types\";\nimport { useSession } from \"@/lib/session\";\nimport { v4 as uuidv4 } from 'uuid';\nimport bcrypt from 'bcryptjs';\n\nexport default function DashboardPage() {\n  const [user, setUser] = useState<FirebaseUser | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [credentials, setCredentials] = useState<ApiCredentials[]>([]);\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [showAccountSelector, setShowAccountSelector] = useState(false);\n  const [createLoading, setCreateLoading] = useState(false);\n\n  // Session management\n  const {\n    getSession,\n    clearSession,\n    isAuthenticated,\n    getCurrentUser,\n    updateActivity,\n  } = useSession();\n\n  // Form state\n  const [formData, setFormData] = useState({\n    name: \"\",\n    description: \"\",\n    redirectUris: \"\",\n    allowedOrigins: \"\",\n    scopes: [\"profile\", \"email\"],\n  });\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChange((user) => {\n      setUser(user);\n      setLoading(false);\n      if (user) {\n        fetchCredentials(user.uid);\n      }\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  const fetchCredentials = async (userId: string) => {\n    if (!userId) return;\n\n    try {\n      const creds = await getUserApiCredentials(userId);\n      setCredentials(creds || []);\n    } catch (error) {\n      console.error(\"Failed to fetch credentials:\", error);\n      setCredentials([]);\n    }\n  };\n\n  const handleCreateCredential = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!user) {\n      alert(\"You must be logged in to create an application.\");\n      return;\n    }\n    setCreateLoading(true);\n\n    try {\n      const clientId = uuidv4();\n      const clientSecretRaw = uuidv4();\n      const salt = await bcrypt.genSalt(10);\n      const clientSecretHashed = await bcrypt.hash(clientSecretRaw, salt);\n      const apiKey = uuidv4();\n\n      const newCredentialData: Omit<ApiCredentials, 'id' | 'createdAt' | 'updatedAt'> = {\n        userId: user.uid,\n        name: formData.name,\n        description: formData.description,\n        clientId,\n        clientSecret: clientSecretHashed,\n        apiKey,\n        redirectUris: formData.redirectUris\n          .split(\",\")\n          .map((uri) => uri.trim())\n          .filter(uri => uri.length > 0),\n        allowedOrigins: formData.allowedOrigins\n          .split(\",\")\n          .map((origin) => origin.trim())\n          .filter(origin => origin.length > 0),\n        scopes: formData.scopes,\n        isActive: true,\n        rateLimit: { maxRequests: 1000, windowMs: 60000, enabled: true },\n      };\n\n      await createApiCredentials(newCredentialData);\n\n      const displayCredential = {\n        ...newCredentialData,\n        id: 'temp-' + Date.now(),\n        clientSecret: clientSecretRaw, // Show raw secret only once\n        createdAt: new Date(),\n        updatedAt: new Date(),\n      };\n\n      setCredentials([displayCredential, ...credentials]);\n\n      setShowCreateForm(false);\n      setFormData({\n        name: \"\",\n        description: \"\",\n        redirectUris: \"\",\n        allowedOrigins: \"\",\n        scopes: [\"profile\", \"email\"],\n      });\n\n      alert(`Application Created!\\nClient ID: ${clientId}\\nClient Secret: ${clientSecretRaw}\\n\\nIMPORTANT: Copy your client secret now. You will not be able to see it again.`);\n\n    } catch (error) {\n      console.error(\"Failed to create credentials:\", error);\n      alert(\"An unexpected error occurred while creating credentials.\");\n    } finally {\n      setCreateLoading(false);\n    }\n  };\n\n  const copyToClipboard = async (text: string) => {\n    try {\n      await navigator.clipboard.writeText(text);\n      // You can add a toast notification here\n    } catch (err) {\n      console.error(\"Failed to copy: \", err);\n    }\n  };\n\n  const handleSignOut = async () => {\n    try {\n      // Clear session first\n      clearSession();\n\n      // Sign out from Firebase\n      await signOutUser();\n\n      // Clear local state\n      setUser(null);\n      setCredentials([]);\n      setShowAccountSelector(false);\n\n      // Redirect to login page\n      window.location.href = \"/auth/login\";\n    } catch (error) {\n      console.error(\"Sign out error:\", error);\n      // Force redirect even if there's an error\n      clearSession();\n      setUser(null);\n      window.location.href = \"/auth/login\";\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Loading dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user && !isAuthenticated()) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"bg-white rounded-lg shadow-lg p-8 max-w-md w-full mx-4\">\n          <div className=\"text-center\">\n            <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-100\">\n              <svg\n                className=\"h-6 w-6 text-blue-600\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"\n                />\n              </svg>\n            </div>\n            <h3 className=\"mt-2 text-lg font-medium text-gray-900\">\n              Authentication Required\n            </h3>\n            <p className=\"mt-1 text-sm text-gray-500\">\n              Please sign in to access the developer dashboard\n            </p>\n            <a\n              href=\"/auth/login\"\n              className=\"mt-6 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 hover:shadow-lg hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 cursor-pointer transform\"\n            >\n              Sign In\n            </a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center py-4\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <h1 className=\"text-2xl font-bold text-gray-900\">\n                  GLAStudio OAuth\n                </h1>\n              </div>\n              <nav className=\"hidden md:ml-6 md:flex md:space-x-8\">\n                <a\n                  href=\"#\"\n                  className=\"text-blue-600 border-b-2 border-blue-600 py-2 px-1 text-sm font-medium hover:text-blue-700 transition-colors duration-200 cursor-pointer\"\n                >\n                  Dashboard\n                </a>\n                <a\n                  href=\"/test\"\n                  className=\"text-gray-500 hover:text-gray-700 hover:border-b-2 hover:border-gray-300 py-2 px-1 text-sm font-medium cursor-pointer transition-all duration-200\"\n                >\n                  Test Console\n                </a>\n                <a\n                  href=\"/api/health\"\n                  className=\"text-gray-500 hover:text-gray-700 hover:border-b-2 hover:border-gray-300 py-2 px-1 text-sm font-medium cursor-pointer transition-all duration-200\"\n                >\n                  Health Check\n                </a>\n              </nav>\n            </div>\n\n            {/* User Account Section */}\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"relative\">\n                <button\n                  onClick={() => setShowAccountSelector(!showAccountSelector)}\n                  className=\"flex items-center space-x-3 text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 p-2 hover:bg-gray-100 hover:shadow-md hover:scale-105 transition-all duration-200 cursor-pointer transform\"\n                >\n                  <img\n                    className=\"h-8 w-8 rounded-full\"\n                    src={\n                      user.photoURL ||\n                      `https://ui-avatars.com/api/?name=${encodeURIComponent(user.displayName || user.email || \"User\")}&background=3B82F6&color=fff`\n                    }\n                    alt=\"Profile\"\n                  />\n                  <div className=\"hidden md:block text-left\">\n                    <div className=\"text-sm font-medium text-gray-900\">\n                      {user.displayName || \"User\"}\n                    </div>\n                    <div className=\"text-xs text-gray-500\">{user.email}</div>\n                  </div>\n                  <svg\n                    className=\"h-4 w-4 text-gray-400\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M19 9l-7 7-7-7\"\n                    />\n                  </svg>\n                </button>\n\n                {/* Google-style Account Selector Dropdown */}\n                {showAccountSelector && (\n                  <div className=\"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50 animate-in slide-in-from-top-2 duration-200\">\n                    <div className=\"p-4 border-b border-gray-200\">\n                      <div className=\"flex items-center space-x-3\">\n                        <img\n                          className=\"h-12 w-12 rounded-full\"\n                          src={\n                            user.photoURL ||\n                            `https://ui-avatars.com/api/?name=${encodeURIComponent(user.displayName || user.email || \"User\")}&background=3B82F6&color=fff`\n                          }\n                          alt=\"Profile\"\n                        />\n                        <div className=\"flex-1\">\n                          <div className=\"text-sm font-medium text-gray-900\">\n                            {user.displayName || \"User\"}\n                          </div>\n                          <div className=\"text-sm text-gray-500\">\n                            {user.email}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"p-2\">\n                      <button\n                        onClick={() => {\n                          setShowAccountSelector(false);\n                        }}\n                        className=\"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md cursor-pointer transition-colors duration-200\"\n                      >\n                        <div className=\"flex items-center space-x-3\">\n                          <svg\n                            className=\"h-5 w-5 text-gray-400\"\n                            fill=\"none\"\n                            viewBox=\"0 0 24 24\"\n                            stroke=\"currentColor\"\n                          >\n                            <path\n                              strokeLinecap=\"round\"\n                              strokeLinejoin=\"round\"\n                              strokeWidth={2}\n                              d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n                            />\n                          </svg>\n                          <span>Manage your account</span>\n                        </div>\n                      </button>\n\n                      <button\n                        onClick={() => {\n                          setShowAccountSelector(false);\n                          handleSignOut();\n                        }}\n                        className=\"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md cursor-pointer transition-colors duration-200\"\n                      >\n                        <div className=\"flex items-center space-x-3\">\n                          <svg\n                            className=\"h-5 w-5 text-gray-400\"\n                            fill=\"none\"\n                            viewBox=\"0 0 24 24\"\n                            stroke=\"currentColor\"\n                          >\n                            <path\n                              strokeLinecap=\"round\"\n                              strokeLinejoin=\"round\"\n                              strokeWidth={2}\n                              d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\n                            />\n                          </svg>\n                          <span>Sign out</span>\n                        </div>\n                      </button>\n                    </div>\n\n                    <div className=\"p-4 border-t border-gray-200 bg-gray-50 rounded-b-lg\">\n                      <div className=\"text-xs text-gray-500 text-center\">\n                        <p>Privacy Policy  Terms of Service</p>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Welcome Section */}\n        <div className=\"bg-white rounded-lg shadow-sm border p-6 mb-8\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h2 className=\"text-2xl font-bold text-gray-900\">\n                Welcome back, {user.displayName || user.email?.split(\"@\")[0]}!\n              </h2>\n              <p className=\"text-gray-600 mt-1\">\n                Manage your OAuth applications and monitor their usage\n              </p>\n            </div>\n            <div className=\"flex space-x-3\">\n              <button\n                onClick={() => setShowCreateForm(true)}\n                className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 cursor-pointer transform hover:scale-105 active:scale-95\"\n              >\n                <svg\n                  className=\"h-4 w-4 mr-2\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"\n                  />\n                </svg>\n                Create Application\n              </button>\n              <a\n                href=\"/test\"\n                className=\"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 cursor-pointer transform hover:scale-105 active:scale-95\"\n              >\n                <svg\n                  className=\"h-4 w-4 mr-2\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\n                  />\n                </svg>\n                Test Console\n              </a>\n            </div>\n          </div>\n        </div>\n\n        {/* Stats Overview */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n          <div className=\"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow duration-200 cursor-pointer transform hover:scale-105\">\n            <div className=\"flex items-center\">\n              <div className=\"p-2 bg-blue-100 rounded-lg\">\n                <svg\n                  className=\"h-6 w-6 text-blue-600\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\"\n                  />\n                </svg>\n              </div>\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-gray-600\">\n                  Applications\n                </p>\n                <p className=\"text-2xl font-semibold text-gray-900\">\n                  {credentials.length}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow duration-200 cursor-pointer transform hover:scale-105\">\n            <div className=\"flex items-center\">\n              <div className=\"p-2 bg-green-100 rounded-lg\">\n                <svg\n                  className=\"h-6 w-6 text-green-600\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n                  />\n                </svg>\n              </div>\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-gray-600\">\n                  Total Requests\n                </p>\n                <p className=\"text-2xl font-semibold text-gray-900\">0</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow duration-200 cursor-pointer transform hover:scale-105\">\n            <div className=\"flex items-center\">\n              <div className=\"p-2 bg-yellow-100 rounded-lg\">\n                <svg\n                  className=\"h-6 w-6 text-yellow-600\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n                  />\n                </svg>\n              </div>\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-gray-600\">\n                  Success Rate\n                </p>\n                <p className=\"text-2xl font-semibold text-gray-900\">100%</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow duration-200 cursor-pointer transform hover:scale-105\">\n            <div className=\"flex items-center\">\n              <div className=\"p-2 bg-purple-100 rounded-lg\">\n                <svg\n                  className=\"h-6 w-6 text-purple-600\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"\n                  />\n                </svg>\n              </div>\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-gray-600\">\n                  Active Users\n                </p>\n                <p className=\"text-2xl font-semibold text-gray-900\">0</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Applications List */}\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border hover:shadow-lg hover:scale-105 transition-all duration-300 cursor-pointer group\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h3 className=\"text-lg font-medium text-gray-900\">\n              Your Applications\n            </h3>\n            <p className=\"mt-1 text-sm text-gray-500\">\n              Manage your OAuth applications and view their credentials\n            </p>\n          </div>\n\n          {credentials.length === 0 ? (\n            <div className=\"p-12 text-center\">\n              <svg\n                className=\"mx-auto h-12 w-12 text-gray-400\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\"\n                />\n              </svg>\n              <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\n                No applications\n              </h3>\n              <p className=\"mt-1 text-sm text-gray-500\">\n                Get started by creating your first OAuth application.\n              </p>\n              <div className=\"mt-6\">\n                <button\n                  onClick={() => setShowCreateForm(true)}\n                  className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 cursor-pointer transform hover:scale-105 active:scale-95\"\n                >\n                  <svg\n                    className=\"h-4 w-4 mr-2\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"\n                    />\n                  </svg>\n                  Create Application\n                </button>\n              </div>\n            </div>\n          ) : (\n            <div className=\"divide-y divide-gray-200\">\n              {credentials.map((credential) => (\n                <div\n                  key={credential.id}\n                  className=\"p-6 hover:bg-gray-50 transition-colors duration-200\"\n                >\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center\">\n                        <h4 className=\"text-lg font-medium text-gray-900\">\n                          {credential.name}\n                        </h4>\n                        <span\n                          className={`ml-3 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                            credential.isActive\n                              ? \"bg-green-100 text-green-800\"\n                              : \"bg-red-100 text-red-800\"\n                          }`}\n                        >\n                          {credential.isActive ? \"Active\" : \"Inactive\"}\n                        </span>\n                      </div>\n                      {credential.description && (\n                        <p className=\"mt-1 text-sm text-gray-500\">\n                          {credential.description}\n                        </p>\n                      )}\n                      <div className=\"mt-2 flex items-center space-x-4 text-sm text-gray-500\">\n                        <span>\n                          Created:{\" \"}\n                          {new Date(credential.createdAt).toLocaleDateString()}\n                        </span>\n                        {credential.lastUsed && (\n                          <span>\n                            Last used:{\" \"}\n                            {new Date(credential.lastUsed).toLocaleDateString()}\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-3\">\n                      <button\n                        onClick={() => copyToClipboard(credential.clientId)}\n                        className=\"text-blue-600 hover:text-blue-800 text-sm font-medium cursor-pointer transition-colors duration-200\"\n                      >\n                        Copy Client ID\n                      </button>\n                      <button\n                        onClick={() => {\n                          if (\n                            confirm(\n                              \"Are you sure you want to delete this application?\",\n                            )\n                          ) {\n                            // Handle delete\n                          }\n                        }}\n                        className=\"text-red-600 hover:text-red-800 text-sm font-medium cursor-pointer transition-colors duration-200\"\n                      >\n                        Delete\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </main>\n\n      {/* Create Application Modal */}\n      {showCreateForm && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-medium text-gray-900\">\n                  Create New Application\n                </h3>\n                <button\n                  onClick={() => setShowCreateForm(false)}\n                  className=\"text-gray-400 hover:text-gray-600 cursor-pointer transition-colors duration-200\"\n                >\n                  <svg\n                    className=\"h-6 w-6\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M6 18L18 6M6 6l12 12\"\n                    />\n                  </svg>\n                </button>\n              </div>\n\n              <form onSubmit={handleCreateCredential} className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">\n                    Application Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    required\n                    value={formData.name}\n                    onChange={(e) =>\n                      setFormData({ ...formData, name: e.target.value })\n                    }\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200\"\n                    placeholder=\"My Awesome App\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">\n                    Description (Optional)\n                  </label>\n                  <textarea\n                    value={formData.description}\n                    onChange={(e) =>\n                      setFormData({ ...formData, description: e.target.value })\n                    }\n                    rows={3}\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200\"\n                    placeholder=\"A brief description of your application\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">\n                    Redirect URIs\n                  </label>\n                  <input\n                    type=\"text\"\n                    required\n                    value={formData.redirectUris}\n                    onChange={(e) =>\n                      setFormData({ ...formData, redirectUris: e.target.value })\n                    }\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200\"\n                    placeholder=\"https://myapp.com/callback, https://localhost:3000/callback\"\n                  />\n                  <p className=\"mt-1 text-xs text-gray-500\">\n                    Comma-separated list of redirect URIs\n                  </p>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">\n                    Allowed Origins\n                  </label>\n                  <input\n                    type=\"text\"\n                    required\n                    value={formData.allowedOrigins}\n                    onChange={(e) =>\n                      setFormData({\n                        ...formData,\n                        allowedOrigins: e.target.value,\n                      })\n                    }\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200\"\n                    placeholder=\"https://myapp.com, https://localhost:3000\"\n                  />\n                  <p className=\"mt-1 text-xs text-gray-500\">\n                    Comma-separated list of allowed origins for CORS\n                  </p>\n                </div>\n\n                <div className=\"flex items-center justify-end space-x-3 pt-4\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowCreateForm(false)}\n                    className=\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 cursor-pointer\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    type=\"submit\"\n                    disabled={createLoading}\n                    className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 cursor-pointer transform hover:scale-105 active:scale-95\"\n                  >\n                    {createLoading ? \"Creating...\" : \"Create Application\"}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}