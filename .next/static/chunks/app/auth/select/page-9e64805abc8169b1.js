(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[934],{2512:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(5155),a=s(2115),n=s(5695),i=s(6080),o=s(3747);function l(){let[e,t]=(0,a.useState)(null),[s,l]=(0,a.useState)([]),[c,u]=(0,a.useState)(!0),[d,m]=(0,a.useState)("Application"),[h,x]=(0,a.useState)(""),p=(0,n.useSearchParams)(),v=(0,n.useRouter)(),{getSession:f,clearSession:b,isAuthenticated:g,getCurrentUser:j,updateActivity:N}=(0,o.wV)();(0,a.useEffect)(()=>{let e=p.get("session"),s=p.get("client_name");e&&x(e),s&&m(decodeURIComponent(s));let r=j();if(r){t(r),y(),u(!1),N();return}let a=(0,i.Bh)(e=>{t(e),e&&(o.Cv.getInstance().createSession(e),y(),N()),u(!1)});return()=>a()},[p]);let y=()=>{e&&l([{id:e.uid,email:e.email||"",displayName:e.displayName||void 0,photoURL:e.photoURL||void 0,lastUsed:new Date},{id:"demo1",email:"taikhoangphu2.minhtriet@gmail.com",displayName:"taikhoangphu2 minhtriet",photoURL:"https://ui-avatars.com/api/?name=taikhoangphu2+minhtriet&background=4285F4&color=fff",lastUsed:new Date(Date.now()-864e5)},{id:"demo2",email:"student-02-55a3f4836049@qwiklabs.net",displayName:"student e43ea24e",photoURL:"https://ui-avatars.com/api/?name=student+e43ea24e&background=34A853&color=fff",lastUsed:new Date(Date.now()-1728e5)}])},w=async t=>{if(!h)return void alert("Invalid session. Please try again.");try{N(),t.id===(null==e?void 0:e.uid)?v.push("/auth/authorize?session=".concat(h,"&account=").concat(t.id)):(b(),v.push("/auth/login?session=".concat(h,"&email_hint=").concat(encodeURIComponent(t.email),"&client_name=").concat(encodeURIComponent(d))))}catch(e){console.error("Failed to select account:",e),alert("Failed to select account. Please try again.")}};return c?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading accounts..."})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"flex justify-center mb-6",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2 hover:scale-105 transition-transform duration-200 cursor-pointer",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center hover:bg-blue-700 transition-colors duration-200",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,r.jsx)("span",{className:"text-2xl font-bold text-gray-900 hover:text-blue-600 transition-colors duration-200",children:"GLAStudio"})]})}),(0,r.jsx)("h2",{className:"text-2xl font-normal text-gray-900",children:"Choose an account"}),(0,r.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["to continue to"," ",(0,r.jsx)("span",{className:"font-medium text-blue-600",children:d})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl border border-gray-200 overflow-hidden hover:shadow-2xl transition-shadow duration-300",children:[(0,r.jsx)("div",{className:"divide-y divide-gray-200",children:s.map((t,s)=>(0,r.jsx)("button",{onClick:()=>w(t),className:"w-full px-6 py-4 text-left hover:bg-blue-50 hover:scale-105 focus:outline-none focus:bg-blue-50 focus:ring-2 focus:ring-blue-500 focus:ring-inset transition-all duration-200 cursor-pointer transform group",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:t.photoURL?(0,r.jsx)("img",{className:"h-10 w-10 rounded-full group-hover:scale-110 transition-transform duration-200",src:t.photoURL,alt:t.displayName||t.email}):(0,r.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-600 flex items-center justify-center group-hover:bg-blue-700 group-hover:scale-110 transition-all duration-200",children:(0,r.jsx)("span",{className:"text-sm font-medium text-white",children:t.displayName?t.displayName.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):t.email.split("@")[0].slice(0,2).toUpperCase()})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[t.displayName&&(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate group-hover:text-blue-700 transition-colors duration-200",children:t.displayName}),(0,r.jsx)("p",{className:"text-sm text-gray-500 truncate group-hover:text-blue-600 transition-colors duration-200",children:t.email})]}),t.id===(null==e?void 0:e.uid)&&(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 group-hover:bg-blue-200 group-hover:scale-105 transition-all duration-200",children:"Current"})})]})},t.id))}),(0,r.jsx)("div",{className:"border-t border-gray-200",children:(0,r.jsx)("button",{onClick:()=>{b(),h?v.push("/auth/login?session=".concat(h,"&client_name=").concat(encodeURIComponent(d),"&new_account=true")):v.push("/auth/login?client_name=".concat(encodeURIComponent(d),"&new_account=true"))},className:"w-full px-6 py-4 text-left hover:bg-blue-50 hover:scale-105 focus:outline-none focus:bg-blue-50 focus:ring-2 focus:ring-blue-500 focus:ring-inset transition-all duration-200 cursor-pointer transform group",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"h-10 w-10 rounded-full border-2 border-gray-300 flex items-center justify-center group-hover:border-blue-400 group-hover:bg-blue-50 group-hover:scale-110 transition-all duration-200",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-gray-400 group-hover:text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700 group-hover:text-blue-700 transition-colors duration-200",children:"Use another account"})})]})})})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-6 text-sm text-gray-500",children:[(0,r.jsx)("button",{className:"hover:text-blue-600 hover:scale-105 cursor-pointer transition-all duration-200 transform",children:"Privacy Policy"}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("button",{className:"hover:text-blue-600 hover:scale-105 cursor-pointer transition-all duration-200 transform",children:"Terms of Service"})]}),(0,r.jsxs)("p",{className:"mt-4 text-xs text-gray-400",children:["Before using GLAStudio OAuth, you can review our"," ",(0,r.jsx)("button",{className:"text-blue-600 hover:text-blue-800 hover:scale-105 cursor-pointer transition-all duration-200 transform",children:"privacy policy"})," ","and"," ",(0,r.jsx)("button",{className:"text-blue-600 hover:text-blue-800 hover:scale-105 cursor-pointer transition-all duration-200 transform",children:"terms of service"})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)("select",{className:"bg-transparent border-none text-gray-500 focus:outline-none cursor-pointer hover:text-blue-600 transition-colors duration-200",children:[(0,r.jsx)("option",{children:"English"}),(0,r.jsx)("option",{children:"Tiếng Việt"}),(0,r.jsx)("option",{children:"Espa\xf1ol"}),(0,r.jsx)("option",{children:"Fran\xe7ais"})]})}),(0,r.jsxs)("div",{className:"flex space-x-4 text-gray-500",children:[(0,r.jsx)("button",{className:"hover:text-blue-600 hover:scale-105 cursor-pointer transition-all duration-200 transform",children:"Help"}),(0,r.jsx)("button",{className:"hover:text-blue-600 hover:scale-105 cursor-pointer transition-all duration-200 transform",children:"Privacy"}),(0,r.jsx)("button",{className:"hover:text-blue-600 hover:scale-105 cursor-pointer transition-all duration-200 transform",children:"Terms"})]})]})]})})}function c(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}),children:(0,r.jsx)(l,{})})}},5695:(e,t,s)=>{"use strict";var r=s(8999);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},7123:(e,t,s)=>{Promise.resolve().then(s.bind(s,2512))}},e=>{e.O(0,[135,965,670,109,230,441,964,358],()=>e(e.s=7123)),_N_E=e.O()}]);