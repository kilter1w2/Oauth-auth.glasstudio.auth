(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[575],{3133:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});var t=r(5155),o=r(2115),n=r(5695);function a(){let e=(0,n.useRouter)(),s=(0,n.useSearchParams)(),[r,a]=(0,o.useState)({}),[i,l]=(0,o.useState)(!1);(0,o.useEffect)(()=>{a({code:s.get("code")||void 0,state:s.get("state")||void 0,error:s.get("error")||void 0,error_description:s.get("error_description")||void 0,session_url:s.get("session_url")||void 0})},[s]);let d=async e=>{try{await navigator.clipboard.writeText(e),l(!0),setTimeout(()=>l(!1),2e3)}catch(r){console.error("Failed to copy: ",r);let s=document.createElement("textarea");s.value=e,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),l(!0),setTimeout(()=>l(!1),2e3)}},c=r.error,h=r.code;return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"OAuth Callback Test Page"}),(0,t.jsx)("p",{className:"text-gray-600",children:"This page receives the OAuth callback and displays the results"})]}),c?(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)("svg",{className:"w-6 h-6 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-red-800",children:"Authorization Error"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-red-700 mb-1",children:"Error Code"}),(0,t.jsx)("div",{className:"bg-red-100 p-3 rounded border text-red-800 font-mono text-sm",children:r.error})]}),r.error_description&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-red-700 mb-1",children:"Error Description"}),(0,t.jsx)("div",{className:"bg-red-100 p-3 rounded border text-red-800 text-sm",children:r.error_description})]}),r.state&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-red-700 mb-1",children:"State"}),(0,t.jsx)("div",{className:"bg-red-100 p-3 rounded border text-red-800 font-mono text-sm",children:r.state})]})]})]}):h?(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)("svg",{className:"w-6 h-6 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-green-800",children:"Authorization Successful"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"Authorization Code"}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"bg-green-100 p-3 rounded-l border border-r-0 text-green-800 font-mono text-sm flex-1 break-all",children:r.code}),(0,t.jsx)("button",{onClick:()=>d(r.code||""),className:"bg-green-600 text-white px-4 py-3 rounded-r hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",title:"Copy authorization code",children:i?(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}),(0,t.jsx)("p",{className:"text-sm text-green-600 mt-1",children:"Copy this code and paste it in the test page to exchange for an access token"})]}),r.state&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"State Parameter"}),(0,t.jsx)("div",{className:"bg-green-100 p-3 rounded border text-green-800 font-mono text-sm",children:r.state})]}),r.session_url&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"Session URL"}),(0,t.jsx)("div",{className:"bg-green-100 p-3 rounded border text-green-800 font-mono text-sm break-all",children:r.session_url}),(0,t.jsxs)("p",{className:"text-sm text-green-600 mt-1",children:["Format: https://auth-GLAstudio.auth/","{session-id}","/","{rotation-id}","/","{number-id}"]})]})]})]}):(0,t.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)("svg",{className:"w-6 h-6 text-yellow-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-yellow-800",children:"No Authorization Data"})]}),(0,t.jsx)("p",{className:"text-yellow-700",children:"This page didn't receive any authorization code or error information. This could mean the OAuth flow was cancelled or there was an issue with the redirect."})]}),(0,t.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Received URL Parameters"}),(0,t.jsxs)("div",{className:"bg-gray-100 p-4 rounded font-mono text-sm overflow-x-auto",children:[(0,t.jsx)("div",{className:"text-gray-600 mb-2",children:"Current URL:"}),(0,t.jsx)("div",{className:"text-gray-800 break-all mb-4",children:window.location.href}),(0,t.jsx)("div",{className:"text-gray-600 mb-2",children:"Parsed Parameters:"}),(0,t.jsx)("pre",{className:"text-gray-800",children:JSON.stringify(r,null,2)})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,t.jsx)("button",{onClick:()=>e.push("/test"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"← Back to Test Console"}),h&&(0,t.jsx)("button",{onClick:()=>{let s="/test?code=".concat(encodeURIComponent(r.code||""),"&state=").concat(encodeURIComponent(r.state||""));e.push(s)},className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"Continue OAuth Flow →"}),(0,t.jsx)("button",{onClick:()=>e.push("/dashboard"),className:"bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Go to Dashboard"})]}),(0,t.jsxs)("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Next Steps"}),(0,t.jsx)("div",{className:"text-blue-800 space-y-2",children:h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"✅ You have successfully received an authorization code!"}),(0,t.jsx)("p",{children:"\uD83D\uDCCB Copy the authorization code above"}),(0,t.jsx)("p",{children:"\uD83D\uDD04 Go back to the test console and paste it in Step 2"}),(0,t.jsx)("p",{children:"\uD83D\uDD11 Exchange the code for an access token"}),(0,t.jsx)("p",{children:"\uD83D\uDC64 Use the access token to get user information"})]}):c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"❌ The authorization failed"}),(0,t.jsx)("p",{children:"\uD83D\uDD0D Check the error details above"}),(0,t.jsx)("p",{children:"\uD83D\uDD27 Verify your client configuration"}),(0,t.jsx)("p",{children:"\uD83D\uDD04 Try the authorization flow again"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"⚠️ No authorization data received"}),(0,t.jsx)("p",{children:"\uD83D\uDD04 Go back to the test console"}),(0,t.jsx)("p",{children:"\uD83D\uDE80 Start a new authorization flow"}),(0,t.jsx)("p",{children:"\uD83D\uDD27 Check your redirect URI configuration"})]})})]})]})})})}},5695:(e,s,r)=>{"use strict";var t=r(8999);r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},9658:(e,s,r)=>{Promise.resolve().then(r.bind(r,3133))}},e=>{e.O(0,[441,964,358],()=>e(e.s=9658)),_N_E=e.O()}]);